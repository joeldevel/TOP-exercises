<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>cats and kittens</title>
  </head>
  <body>

    <section>

    </section>

    <script type="text/javascript">
    const section = document.querySelector('section');

    let para1 = document.createElement('p');
    let para2 = document.createElement('p');

    let motherInfo = 'The mother cats are called ';
    let kittenInfo;

    // in the original example data comes from external source
    // fetch('sample.json')
    // .then(response => response.text())
    // .then(text => displayCatInfo(text))

    function displayCatInfo(catString) {
        let total = 0;
        let male = 0;

        // Add your code here
        let arrayOfCats = JSON.parse(catString);
        for (let i = 0; i < arrayOfCats.length; i++) {
            motherInfo = motherInfo + arrayOfCats[i].name + ", ";
            // console.log(arrayOfCats[i].kittens.length)
            for (let j = 0; j < arrayOfCats[i].kittens.length; j++) {
                total++;
                if (arrayOfCats[i]['kittens'][j].gender === 'm') {
                    male++;
                }
            }
        }
        kittenInfo = "there are " + total + " kittens, and " + male + " are male";


        // Don't edit the code below here!

        para1.textContent = motherInfo;
        para2.textContent = kittenInfo;
    }

    section.appendChild(para1);
    section.appendChild(para2);


    //
    let cats = [{
            "name": "Lindy",
            "breed": "Cymric",
            "color": "white",
            "kittens": [{
                    "name": "Percy",
                    "gender": "m"
                },
                {
                    "name": "Thea",
                    "gender": "f"
                },
                {
                    "name": "Annis",
                    "gender": "f"
                }
            ]
        },
        {
            "name": "Mina",
            "breed": "Aphrodite Giant",
            "color": "ginger",
            "kittens": [{
                    "name": "Doris",
                    "gender": "f"
                },
                {
                    "name": "Pickle",
                    "gender": "f"
                },
                {
                    "name": "Max",
                    "gender": "m"
                }
            ]
        },
        {
            "name": "Antonia",
            "breed": "Ocicat",
            "color": "leopard spotted",
            "kittens": [{
                    "name": "Bridget",
                    "gender": "f"
                },
                {
                    "name": "Randolph",
                    "gender": "m"
                }
            ]
        }
    ];

    displayCatInfo(JSON.stringify(cats));
    </script>
  </body>
</html>
